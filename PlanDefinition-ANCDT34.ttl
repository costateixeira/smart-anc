@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://smart.who.int/anc/PlanDefinition/ANCDT34> a fhir:PlanDefinition ;
  fhir:nodeRole fhir:treeRoot ;
  fhir:id [ fhir:v "ANCDT34"] ; # 
  fhir:text [
     fhir:status [ fhir:v "extensions" ] ;
     fhir:div "<div xmlns=\"http://www.w3.org/1999/xhtml\">\n<div>\n    <table class=\"grid dict\">\n        \n        <tr>\n            <th scope=\"row\"><b>Id: </b></th>\n            <td style=\"padding-left: 4px;\">ANCDT34</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Url: </b></th>\n            <td style=\"padding-left: 4px;\"><a href=\"PlanDefinition-ANCDT34.html\">ANC.DT.34 Birth preparedness counselling</a></td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Version: </b></th>\n            <td style=\"padding-left: 4px;\">0.3.0</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\">\n                <b>\n                    \n                        Official\n                    \n                </b>\n            </th>\n            <td style=\"padding-left: 4px;\">\n                \n                <p style=\"margin-bottom: 5px;\">\n                    <span>ANC.DT.34</span>\n                </p>\n                \n            </td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Title: </b></th>\n            <td style=\"padding-left: 4px;\">ANC.DT.34 Birth preparedness counselling</td>\n        </tr>\n        \n\n        \n\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Type: </b></th>\n            <td style=\"padding-left: 4px;\">\n                \n                    \n                        \n                        <p style=\"margin-bottom: 5px;\">\n                            <b>system: </b> <span><a href=\"http://terminology.hl7.org/6.4.0/CodeSystem-plan-definition-type.html\">http://terminology.hl7.org/CodeSystem/plan-definition-type</a></span>\n                        </p>\n                        \n                        \n                        <p style=\"margin-bottom: 5px;\">\n                            <b>code: </b> <span>eca-rule</span>\n                        </p>\n                        \n                        \n                    \n                \n                \n            </td>\n        </tr>\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Date: </b></th>\n            <td style=\"padding-left: 4px;\">2025-06-24 13:58:48-0600</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Publisher: </b></th>\n            <td style=\"padding-left: 4px;\">World Health Organization (WHO)</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Description: </b></th>\n            <td style=\"padding-left: 4px;\"><div><p>General counselling to be provided/reviewed at every contact</p>\n</div></td>\n        </tr>\n        \n\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Use Context: </b></th>\n            <td style=\"padding-left: 4px;\">\n                <table class=\"grid-dict\">\n                    <tr>\n                        <th><b>code</b></th>\n                        <th><b>value</b></th>\n                    </tr>\n                    \n                        <tr>\n                            <td>task</td>\n                            <td/>\n                        </tr>\n                    \n                </table>\n            </td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Jurisdiction: </b></th>\n            <td style=\"padding-left: 4px;\">001</td>\n        </tr>\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Libraries: </b></th>\n            <td style=\"padding-left: 4px;\">\n                <table class=\"grid-dict\">\n                    \n                    <tr>\n                        <td><a href=\"Library-ANCDT34.html\">ANC.DT.34 Birth preparedness counselling</a></td>\n                    </tr>\n                    \n                </table>\n            </td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Actions: </b></th>\n            <td style=\"padding-left: 4px;\">\n                <table class=\"grid-dict\">\n                    \n                    <tr>\n                        <td>\n                            \n                            <b> ANC.DT.34 Birth preparedness counselling:</b> \n                            \n                            <br/>\n                            \n                            <b>When:</b>\n                            \n                            <i>Named Event:</i> ANC.B10. Counselling, in-facility management &amp; treatment\n                            <br/>\n                            \n                            \n                            \n                            \n                            <b>Then:</b>\n                            <table class=\"grid-dict\">\n                                \n                                <tr>\n                                    <td>\n                                        \n                                        Encourage delivery at a health-care facility.\n\nRisk factors necessitating a facility birth:\n– Age 17 or under\n– Primigravida\n– Parity 6 or higher\n– Prior caesarian section\n– Previous pregnancy complications: heavy bleeding, forceps or vacuum delivery, convulsions, or 3rd or 4th degree tear\n– Vaginal bleeding\n– Multiple fetuses\n– Abnormal fetal presentation\n– HIV positive\n– Wants IUD or tubal ligation following delivery\n                                        \n                                        <br/>\n                                        \n                                        \n                                        <b>If:</b>\n                                        \n                                        <i>Applicability:</i>\n                                        \n                                        (((((((((((((((Age\" ≤ 17 years)\n  OR (\"Fetal presentation\" = \"Transverse fetal presentation\"))\n  OR (\"Fetal presentation\" = \"Other fetal presentation (specify)\"))\n  OR (Number of caesarian sections\" &gt; 0))\n  OR (\"Number of fetuses\" &gt; 1))\n  OR (\"Family planning method provided\" = \"Copper-bearing intrauterine device (Cu-IUD)\"))\n  OR (\"Family planning method provided\" = \"Levonorgestrel intrauterine device (LNG-IUD)\"))\n  OR (\"Family planning method provided\" = \"Female sterilization\"))\n  OR (\"Past pregnancy complications\" = \"Convulsions\"))\n  OR (\"Past pregnancy complications\" = \"Heavy bleeding (during or after delivery)\"))\n  OR (\"Past pregnancy complications\" = \"Forceps or vacuum delivery\"))\n  OR (\"Past pregnancy complications\" = \"3rd or 4th degree tear\"))\n  OR (\"Current physiological symptoms\" = \"Vaginal bleeding\"))\n  OR (\"Number of pregnancies (gravida)\" = 1))\n  OR (\"Parity\" &gt; 5))\n  OR (\"HIV status\" = \"HIV positive\")\n                                        \n                                        <i>(Should Conduct counselling on birth preparedness and complications readiness)</i>\n                                        <br/>\n                                        \n                                        \n                                        \n                                        <b>Then:</b> <i>Additional sub-actions not displayed</i>\n                                        \n                                    </td>\n                                </tr>\n                                \n                                <tr>\n                                    <td>\n                                        \n                                        Explain why delivery needs to be with a skilled birth attendant, preferably at a facility according to woman's preference\n                                        \n                                        <br/>\n                                        \n                                        \n                                        <b>If:</b>\n                                        \n                                        <i>Applicability:</i>\n                                        \n                                        \"Planned birth place\" = \"Home\"\n                                        \n                                        <i>(Should Conduct counselling on birth preparedness and complications readiness 2)</i>\n                                        <br/>\n                                        \n                                        \n                                        \n                                        <b>Then:</b> <i>Additional sub-actions not displayed</i>\n                                        \n                                    </td>\n                                </tr>\n                                \n                            </table>\n                            \n                        </td>\n                    </tr>\n                    \n                </table>\n            </td>\n        </tr>\n        \n    </table>\n</div>\n</div>"^^rdf:XMLLiteral
  ] ; # 
  fhir:contained ( [
     a fhir:Library ;
     fhir:id [ fhir:v "effective-data-requirements" ] ;
     fhir:name [ fhir:v "EffectiveDataRequirements" ] ;
     fhir:status [ fhir:v "active" ] ;
     fhir:type [
       fhir:coding ( [
         fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/library-type"^^xsd:anyURI ] ;
         fhir:code [ fhir:v "module-definition" ]
       ] )
     ] ;
     fhir:relatedArtifact ( [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Library FHIRHelpers" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/Library/FHIRHelpers|4.0.1"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/Library/FHIRHelpers|4.0.1>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Library ContactData" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/Library/ANCContactDataElements"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/Library/ANCContactDataElements>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Library WC" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/Library/WHOCommon"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/Library/WHOCommon>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Library Cx" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/Library/ANCConcepts"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/Library/ANCConcepts>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Planned birth place" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b10-de137"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b10-de137>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Planned birth place - Home Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b10-de140"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b10-de140>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Fetal presentation" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b8-de111"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b8-de111>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Fetal presentation - Transverse fetal presentation Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b8-de115"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b8-de115>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Fetal presentation - Other fetal presentation (specify) Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b8-de116"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b8-de116>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Number of caesarian sections" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de33"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de33>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Number of fetuses" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b8-de109"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b8-de109>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Family planning method selected" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b10-de145"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b10-de145>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Family planning method selected - Copper-bearing intrauterine device (Cu-IUD) Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b10-de146"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b10-de146>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Family planning method selected - Levonorgestrel intrauterine device (LNG-IUD) Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b10-de147"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b10-de147>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Family planning method selected - Female sterilization Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b10-de162"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b10-de162>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Past pregnancy complications" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de34"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de34>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Past pregnancy complications - Convulsions Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de41"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de41>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Past pregnancy complications - Heavy bleeding (during or after delivery) Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de44"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de44>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Past pregnancy complications - Forceps Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de42"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de42>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Past pregnancy complications - Perineal tear (3rd or 4th degree) Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de46"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de46>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Current physiological symptoms" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b7-de43"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b7-de43>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Current physiological symptoms - Vaginal bleeding Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b7-de66"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b7-de66>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Number of pregnancies (gravida)" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de24"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de24>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Parity" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de32"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de32>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set HIV status" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b9-de45"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b9-de45>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set HIV status - HIV positive Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b9-de46"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b9-de46>
       ]
     ] ) ;
     fhir:parameter ( [
       fhir:name [ fhir:v "encounter" ] ;
       fhir:use [ fhir:v "in" ] ;
       fhir:min [ fhir:v 0 ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:type [ fhir:v "string" ]
     ] [
       fhir:name [ fhir:v "Should Conduct counselling on birth preparedness and complications readiness 2" ] ;
       fhir:use [ fhir:v "out" ] ;
       fhir:min [ fhir:v 0 ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:type [ fhir:v "boolean" ]
     ] [
       fhir:name [ fhir:v "Should Conduct counselling on birth preparedness and complications readiness" ] ;
       fhir:use [ fhir:v "out" ] ;
       fhir:min [ fhir:v 0 ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:type [ fhir:v "boolean" ]
     ] ) ;
     fhir:dataRequirement ( [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b10-de137"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b10-de137>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b8-de111"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b8-de111>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de33"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de33>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b8-de109"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b8-de109>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b10-de145"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b10-de145>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de24"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de24>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de32"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de32>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b9-de45"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b9-de45>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] [ fhir:v "value" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de34"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de34>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] [ fhir:v "value" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b7-de43"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b7-de43>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Patient" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Patient"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Patient>
       ] )
     ] )
  ] ) ; # 
  fhir:extension ( [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Planned birth place"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B10.DE137 Planned birth place\n  @activity: ANC.B10.6 Risk reduction & general counselling\n  @description: Place where woman plans to give birth\n*/\ndefine \"Planned birth place\":\n  WC.Only(\n  [Observation: Cx.\"Planned birth place\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.CodeableConcept"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 0
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDT34"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Should Conduct counselling on birth preparedness and complications readiness 2"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n\"Planned birth place\" = \"Home\"\n*/\ndefine \"Should Conduct counselling on birth preparedness and complications readiness 2\":\n  ContactData.\"Planned birth place\" in Cx.\"Planned birth place - Home Choices\""
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 1
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Fetal presentation"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B8.DE111 Fetal presentation\n  @activity: ANC.B8 Physical exam\n  @description: If a single fetus only, indicate the presentation of the fetus in the uterus\n*/\ndefine \"Fetal presentation\":\n  WC.Only(\n  [Observation: Cx.\"Fetal presentation\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.CodeableConcept"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 2
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Number of caesarian sections"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE33 Number of caesarian sections\n  @activity: ANC.B6 Profile\n  @description: Total number of caesarean sections\n*/\ndefine \"Number of caesarian sections\":\n  WC.MostRecent(\n  [Observation: Cx.\"Number of caesarian sections\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.integer"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 3
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Number of fetuses"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B8.DE109 Number of fetuses\n  @activity: ANC.B8 Physical exam\n  @description: Indicate the number of fetuses the woman is carrying\n*/\ndefine \"Number of fetuses\":\n  WC.Only(\n  [Observation: Cx.\"Number of fetuses\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.Quantity"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 4
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Family planning method selected"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B10.DE145 Family planning method selected\n  @activity: ANC.B10.6 Risk reduction & general counselling\n  @description: Type of postpartum family planning method selected\n*/\ndefine \"Family planning method selected\":\n  WC.Only(\n  [Observation: Cx.\"Family planning method selected\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.CodeableConcept"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 5
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Past pregnancy complications"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE34 Past pregnancy complications\n  @activity: ANC.B6 Profile\n  @description: Mark whether the woman has had any complications or problems in any previous pregnancy\n*/\ndefine \"Past pregnancy complications\":\n  [Observation: Cx.\"Past pregnancy complications\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n    return O.value as FHIR.CodeableConcept"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 6
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Current physiological symptoms"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B7.DE43 Current physiological symptoms\n  @activity: ANC.B7 Symptoms & Follow-up\n  @description: The physiological symptoms that the woman is experiencing right now: select \"None\" if she is experiencing none of these symptoms\n*/\ndefine \"Current physiological symptoms\":\n  [Observation: Cx.\"Current physiological symptoms\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n    return O.value as FHIR.CodeableConcept"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 7
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Number of pregnancies (gravida)"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE24 Number of pregnancies (gravida)\n  @activity: ANC.B6 Profile\n  @description: Total number of times the woman has been pregnant (including this pregnancy); also referred to as gravida\n*/\ndefine \"Number of pregnancies (gravida)\":\n  WC.Only(\n  [Observation: Cx.\"Number of pregnancies (gravida)\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.integer"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 8
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Parity"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE32 Parity\n  @activity: ANC.B6 Profile\n  @description: Calculated parity is the total number of live and stillbirths\n*/\ndefine \"Parity\":\n  WC.MostRecent(\n  [Observation: Cx.\"Parity\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.integer"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 9
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "HIV status"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B9.DE45 HIV status\n  @activity: ANC.B9 Lab tests & imaging\n  @description: Calculated field for woman's HIV status\n*/\ndefine \"HIV status\":\n  WC.Only(\n  [Observation: Cx.\"HIV status\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.CodeableConcept"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 10
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDT34"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Should Conduct counselling on birth preparedness and complications readiness"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n(((((((((((((((Age\" ≤ 17 years)\n  OR (\"Fetal presentation\" = \"Transverse fetal presentation\"))\n  OR (\"Fetal presentation\" = \"Other fetal presentation (specify)\"))\n  OR (Number of caesarian sections\" > 0))\n  OR (\"Number of fetuses\" > 1))\n  OR (\"Family planning method provided\" = \"Copper-bearing intrauterine device (Cu-IUD)\"))\n  OR (\"Family planning method provided\" = \"Levonorgestrel intrauterine device (LNG-IUD)\"))\n  OR (\"Family planning method provided\" = \"Female sterilization\"))\n  OR (\"Past pregnancy complications\" = \"Convulsions\"))\n  OR (\"Past pregnancy complications\" = \"Heavy bleeding (during or after delivery)\"))\n  OR (\"Past pregnancy complications\" = \"Forceps or vacuum delivery\"))\n  OR (\"Past pregnancy complications\" = \"3rd or 4th degree tear\"))\n  OR (\"Current physiological symptoms\" = \"Vaginal bleeding\"))\n  OR (\"Number of pregnancies (gravida)\" = 1))\n  OR (\"Parity\" > 5))\n  OR (\"HIV status\" = \"HIV positive\")\n*/\ndefine \"Should Conduct counselling on birth preparedness and complications readiness\":\n  (AgeInYearsAt(Today()) <= 17)\n    or ContactData.\"Fetal presentation\" in Cx.\"Fetal presentation - Transverse fetal presentation Choices\"\n    or ContactData.\"Fetal presentation\" in Cx.\"Fetal presentation - Other fetal presentation (specify) Choices\"\n    or ContactData.\"Number of caesarian sections\" > 0\n    or ContactData.\"Number of fetuses\" > 1\n    or (ContactData.\"Family planning method selected\" in Cx.\"Family planning method selected - Copper-bearing intrauterine device (Cu-IUD) Choices\")\n    or (ContactData.\"Family planning method selected\" in Cx.\"Family planning method selected - Levonorgestrel intrauterine device (LNG-IUD) Choices\")\n    or (ContactData.\"Family planning method selected\" in Cx.\"Family planning method selected - Female sterilization Choices\")\n    or (ContactData.\"Past pregnancy complications\" in Cx.\"Past pregnancy complications - Convulsions Choices\")\n    or (ContactData.\"Past pregnancy complications\" in Cx.\"Past pregnancy complications - Heavy bleeding (during or after delivery) Choices\")\n    or (ContactData.\"Past pregnancy complications\" in Cx.\"Past pregnancy complications - Forceps Choices\")\n    or (ContactData.\"Past pregnancy complications\" in Cx.\"Past pregnancy complications - Perineal tear (3rd or 4th degree) Choices\")\n    or (ContactData.\"Current physiological symptoms\" in Cx.\"Current physiological symptoms - Vaginal bleeding Choices\")\n    or ContactData.\"Number of pregnancies (gravida)\" = 1\n    or ContactData.\"Parity\" > 5\n    or ContactData.\"HIV status\" in Cx.\"HIV status - HIV positive Choices\""
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 11
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToConcept"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 12
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToCode"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 13
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "WHOCommon"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Only"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function Only(observations List<Observation>):\n  singleton from observations"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 14
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToString"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToString(value ObservationStatus): value.value"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 15
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToBoolean"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToBoolean(value boolean): value.value"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 16
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "WHOCommon"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ModifierExtension"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n@description: Returns the single WHO core modifier extension (if present) on the given resource with the specified id.\n@comment: This function uses singleton from to ensure that a run-time exception is thrown if there\nis more than one extension on the given resource with the specified url.\n*/\ndefine function ModifierExtension(domainResource DomainResource, id String):\n  singleton from ModifierExtensions(domainResource, id)"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 17
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "WHOCommon"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ModifierExtensions"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n@description: Returns any WHO core modifier extensions defined on the given resource with the specified id.\n@comment: NOTE: Extensions are not the preferred approach, but are used as a way to access\ncontent that is defined by extensions but not yet surfaced in the\nCQL model info.\n*/\ndefine function ModifierExtensions(domainResource DomainResource, id String):\n  domainResource.modifierExtension E\n	  where E.url = ('http://fhir.org/guides/who/core/StructureDefinition/' + id)\n		return E"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 18
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToString"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToString(value uri): value.value"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 19
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToString"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToString(value string): value.value"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 20
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToInteger"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToInteger(value integer): value.value"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 21
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "WHOCommon"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "MostRecent"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function MostRecent(observations List<Observation>):\n  Last(\n    observations O\n      sort by issued\n  )"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 22
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToQuantity"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToQuantity(quantity FHIR.Quantity):\n    case\n        when quantity is null then null\n        when quantity.value is null then null\n        when quantity.comparator is not null then\n            Message(null, true, 'FHIRHelpers.ToQuantity.ComparatorQuantityNotSupported', 'Error', 'FHIR Quantity value has a comparator and cannot be converted to a System.Quantity value.')\n        when quantity.system is null or quantity.system.value = 'http://unitsofmeasure.org'\n              or quantity.system.value = 'http://hl7.org/fhirpath/CodeSystem/calendar-units' then\n            System.Quantity { value: quantity.value.value, unit: ToCalendarUnit(Coalesce(quantity.code.value, quantity.unit.value, '1')) }\n        else\n            Message(null, true, 'FHIRHelpers.ToQuantity.InvalidFHIRQuantity', 'Error', 'Invalid FHIR Quantity code: ' & quantity.unit.value & ' (' & quantity.system.value & '|' & quantity.code.value & ')')\n    end"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 23
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToCalendarUnit"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToCalendarUnit(unit System.String):\n    case unit\n        when 'ms' then 'millisecond'\n        when 's' then 'second'\n        when 'min' then 'minute'\n        when 'h' then 'hour'\n        when 'd' then 'day'\n        when 'wk' then 'week'\n        when 'mo' then 'month'\n        when 'a' then 'year'\n        else unit\n    end"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 24
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:id [ fhir:v "effective-data-requirements" ] ;
     fhir:url [ fhir:v "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-effectiveDataRequirements"^^xsd:anyURI ] ;
     fhir:value [
       a fhir:canonical ;
       fhir:v "#effective-data-requirements"^^xsd:anyURI
     ]
  ] [
     fhir:url [ fhir:v "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem"^^xsd:anyURI ] ;
     fhir:value [
       a fhir:Reference ;
       fhir:link <http://smart.who.int/anc/Device/cqf-tooling> ;
       fhir:reference [ fhir:v "Device/cqf-tooling" ]
     ]
  ] ) ; # 
  fhir:url [ fhir:v "http://smart.who.int/anc/PlanDefinition/ANCDT34"^^xsd:anyURI] ; # 
  fhir:identifier ( [
     fhir:use [ fhir:v "official" ] ;
     fhir:value [ fhir:v "ANC.DT.34" ]
  ] ) ; # 
  fhir:version [ fhir:v "0.3.0"] ; # 
  fhir:name [ fhir:v "ANCDT34"] ; # 
  fhir:title [ fhir:v "ANC.DT.34 Birth preparedness counselling"] ; # 
  fhir:type [
     fhir:coding ( [
       fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/plan-definition-type"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "eca-rule" ]
     ] )
  ] ; # 
  fhir:status [ fhir:v "active"] ; # 
  fhir:experimental [ fhir:v false] ; # 
  fhir:date [ fhir:v "2025-06-24T13:58:48-06:00"^^xsd:dateTime] ; # 
  fhir:publisher [ fhir:v "World Health Organization (WHO)"] ; # 
  fhir:contact ( [
     fhir:telecom ( [
       fhir:system [ fhir:v "url" ] ;
       fhir:value [ fhir:v "https://www.who.int" ]
     ] )
  ] ) ; # 
  fhir:description [ fhir:v "General counselling to be provided/reviewed at every contact"] ; # 
  fhir:useContext ( [
     fhir:code [
       fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/usage-context-type"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "task" ] ;
       fhir:display [ fhir:v "Workflow Task" ]
     ] ;
     fhir:value [
       a fhir:CodeableConcept ;
       fhir:coding ( [
         fhir:system [ fhir:v "http://smart.who.int/anc/CodeSystem/activity-codes"^^xsd:anyURI ] ;
         fhir:code [ fhir:v "ANC.B10." ] ;
         fhir:display [ fhir:v "Counselling, in-facility management & treatment" ]
       ] )
     ]
  ] ) ; # 
  fhir:jurisdiction ( [
     fhir:coding ( [
       fhir:system [ fhir:v "http://unstats.un.org/unsd/methods/m49/m49.htm"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "001" ]
     ] )
  ] ) ; # 
  fhir:library ( [
     fhir:v "http://smart.who.int/anc/Library/ANCDT34"^^xsd:anyURI ;
     fhir:link <http://smart.who.int/anc/Library/ANCDT34>
  ] ) ; # 
  fhir:action ( [
     fhir:title [ fhir:v "ANC.DT.34 Birth preparedness counselling" ] ;
     fhir:trigger ( [
       fhir:type [ fhir:v "named-event" ] ;
       fhir:name [ fhir:v "ANC.B10. Counselling, in-facility management & treatment" ]
     ] ) ;
     fhir:action ( [
       fhir:id [ fhir:v "1" ] ;
       fhir:title [ fhir:v "Conduct counselling on birth preparedness and complications readiness" ] ;
       fhir:description [ fhir:v "Conduct counselling on birth preparedness and complications readiness" ] ;
       fhir:textEquivalent [ fhir:v "Encourage delivery at a health-care facility.\n\nRisk factors necessitating a facility birth:\n– Age 17 or under\n– Primigravida\n– Parity 6 or higher\n– Prior caesarian section\n– Previous pregnancy complications: heavy bleeding, forceps or vacuum delivery, convulsions, or 3rd or 4th degree tear\n– Vaginal bleeding\n– Multiple fetuses\n– Abnormal fetal presentation\n– HIV positive\n– Wants IUD or tubal ligation following delivery" ] ;
       fhir:documentation ( [
         fhir:type [ fhir:v "citation" ] ;
         fhir:label [ fhir:v "Pregnancy, childbirth, postpartum and newborn care guide (IMPAC) (2015) (1)" ]
       ] ) ;
       fhir:condition ( [
         fhir:kind [ fhir:v "applicability" ] ;
         fhir:expression [
           fhir:description [ fhir:v "(((((((((((((((Age\" ≤ 17 years)\n  OR (\"Fetal presentation\" = \"Transverse fetal presentation\"))\n  OR (\"Fetal presentation\" = \"Other fetal presentation (specify)\"))\n  OR (Number of caesarian sections\" > 0))\n  OR (\"Number of fetuses\" > 1))\n  OR (\"Family planning method provided\" = \"Copper-bearing intrauterine device (Cu-IUD)\"))\n  OR (\"Family planning method provided\" = \"Levonorgestrel intrauterine device (LNG-IUD)\"))\n  OR (\"Family planning method provided\" = \"Female sterilization\"))\n  OR (\"Past pregnancy complications\" = \"Convulsions\"))\n  OR (\"Past pregnancy complications\" = \"Heavy bleeding (during or after delivery)\"))\n  OR (\"Past pregnancy complications\" = \"Forceps or vacuum delivery\"))\n  OR (\"Past pregnancy complications\" = \"3rd or 4th degree tear\"))\n  OR (\"Current physiological symptoms\" = \"Vaginal bleeding\"))\n  OR (\"Number of pregnancies (gravida)\" = 1))\n  OR (\"Parity\" > 5))\n  OR (\"HIV status\" = \"HIV positive\")" ] ;
           fhir:language [ fhir:v "text/cql-identifier" ] ;
           fhir:expression [ fhir:v "Should Conduct counselling on birth preparedness and complications readiness" ]
         ]
       ] ) ;
       fhir:action ( [
         fhir:title [ fhir:v "Conduct counselling on birth preparedness and complications readiness" ]
       ] [
         fhir:title [ fhir:v "Recommend woman to plan to give birth at a health-care facility" ]
       ] )
     ] [
       fhir:id [ fhir:v "2" ] ;
       fhir:title [ fhir:v "Conduct counselling on birth preparedness and complications readiness" ] ;
       fhir:description [ fhir:v "Conduct counselling on birth preparedness and complications readiness 2" ] ;
       fhir:textEquivalent [ fhir:v "Explain why delivery needs to be with a skilled birth attendant, preferably at a facility according to woman's preference" ] ;
       fhir:documentation ( [
         fhir:type [ fhir:v "citation" ] ;
         fhir:label [ fhir:v "Pregnancy, childbirth, postpartum and newborn care guide (IMPAC) (2015) (1)" ]
       ] ) ;
       fhir:condition ( [
         fhir:kind [ fhir:v "applicability" ] ;
         fhir:expression [
           fhir:description [ fhir:v "\"Planned birth place\" = \"Home\"" ] ;
           fhir:language [ fhir:v "text/cql-identifier" ] ;
           fhir:expression [ fhir:v "Should Conduct counselling on birth preparedness and complications readiness 2" ]
         ]
       ] ) ;
       fhir:action ( [
         fhir:title [ fhir:v "Conduct counselling on birth preparedness and complications readiness" ]
       ] [
         fhir:title [ fhir:v "Explain why delivery needs to be with a skilled birth attendant, preferably at a facility according to woman's preference" ]
       ] )
     ] )
  ] ) . # 

# -------------------------------------------------------------------------------------

