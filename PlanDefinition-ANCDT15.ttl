@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://smart.who.int/anc/PlanDefinition/ANCDT15> a fhir:PlanDefinition ;
  fhir:nodeRole fhir:treeRoot ;
  fhir:id [ fhir:v "ANCDT15"] ; # 
  fhir:text [
     fhir:status [ fhir:v "extensions" ] ;
     fhir:div "<div xmlns=\"http://www.w3.org/1999/xhtml\">\n<div>\n    <table class=\"grid dict\">\n        \n        <tr>\n            <th scope=\"row\"><b>Id: </b></th>\n            <td style=\"padding-left: 4px;\">ANCDT15</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Url: </b></th>\n            <td style=\"padding-left: 4px;\"><a href=\"PlanDefinition-ANCDT15.html\">ANC.DT.15 Behaviour counselling required</a></td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Version: </b></th>\n            <td style=\"padding-left: 4px;\">0.3.0</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\">\n                <b>\n                    \n                        Official\n                    \n                </b>\n            </th>\n            <td style=\"padding-left: 4px;\">\n                \n                <p style=\"margin-bottom: 5px;\">\n                    <span>ANC.DT.15</span>\n                </p>\n                \n            </td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Title: </b></th>\n            <td style=\"padding-left: 4px;\">ANC.DT.15 Behaviour counselling required</td>\n        </tr>\n        \n\n        \n\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Type: </b></th>\n            <td style=\"padding-left: 4px;\">\n                \n                    \n                        \n                        <p style=\"margin-bottom: 5px;\">\n                            <b>system: </b> <span><a href=\"http://terminology.hl7.org/6.4.0/CodeSystem-plan-definition-type.html\">http://terminology.hl7.org/CodeSystem/plan-definition-type</a></span>\n                        </p>\n                        \n                        \n                        <p style=\"margin-bottom: 5px;\">\n                            <b>code: </b> <span>eca-rule</span>\n                        </p>\n                        \n                        \n                    \n                \n                \n            </td>\n        </tr>\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Date: </b></th>\n            <td style=\"padding-left: 4px;\">2025-06-24 13:58:48-0600</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Publisher: </b></th>\n            <td style=\"padding-left: 4px;\">World Health Organization (WHO)</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Description: </b></th>\n            <td style=\"padding-left: 4px;\"><div><p>Depending on the woman's behaviours reported during the first contact and the woman's reported persistent behaviours, additional counselling may or may not be required</p>\n</div></td>\n        </tr>\n        \n\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Use Context: </b></th>\n            <td style=\"padding-left: 4px;\">\n                <table class=\"grid-dict\">\n                    <tr>\n                        <th><b>code</b></th>\n                        <th><b>value</b></th>\n                    </tr>\n                    \n                        <tr>\n                            <td>task</td>\n                            <td/>\n                        </tr>\n                    \n                </table>\n            </td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Jurisdiction: </b></th>\n            <td style=\"padding-left: 4px;\">001</td>\n        </tr>\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Libraries: </b></th>\n            <td style=\"padding-left: 4px;\">\n                <table class=\"grid-dict\">\n                    \n                    <tr>\n                        <td><a href=\"Library-ANCDT15.html\">ANC.DT.15 Behaviour counselling required</a></td>\n                    </tr>\n                    \n                </table>\n            </td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Actions: </b></th>\n            <td style=\"padding-left: 4px;\">\n                <table class=\"grid-dict\">\n                    \n                    <tr>\n                        <td>\n                            \n                            <b> ANC.DT.15 Behaviour counselling required:</b> \n                            \n                            <br/>\n                            \n                            <b>When:</b>\n                            \n                            <i>Named Event:</i> ANC.B10. Counselling, in-facility management &amp; treatment \n                            <br/>\n                            \n                            \n                            \n                            \n                            <b>Then:</b>\n                            <table class=\"grid-dict\">\n                                \n                                <tr>\n                                    <td>\n                                        \n                                        Lowering daily caffeine intake during pregnancy is recommended to reduce the risk of pregnancy loss and low-birth-weight neonates.\n\nThis includes any product, beverage or food containing caffeine (e.g. brewed coffee, tea, cola-type soft drinks, caffeinated energy drinks, chocolate, caffeine tablets); caffeine-containing teas (black tea and green tea) and soft drinks (colas and iced tea) usually contain less than 50 mg per 250 ml serving\n                                        \n                                        <br/>\n                                        \n                                        \n                                        <b>If:</b>\n                                        \n                                        <i>Applicability:</i>\n                                        \n                                        ((((((((((\"Daily caffeine intake\" = \"More than 2 cups of coffee (brewed, filter, instant or espresso)\")\n  OR (\"Daily caffeine intake\" = \"More than 4 cups of tea\"))\n  OR (\"Daily caffeine intake\" = \"More than 12 bars (50g) of chocolate\"))\n  OR (\"Daily caffeine intake\" = \"More than one can of soda or energy drink\"))\n  OR (\"Daily caffeine intake\" = \"None of the above daily caffeine intake\"))\n  OR (IF \"Daily caffeine intake\" = \"More than 2 cups of coffee (brewed, filter, instant, or espresso)\" ON MORE THAN ONE CONTACT))\n  OR (IF  \"Daily caffeine intake\" = \"More than 4 cups of tea\" ON MORE THAN ONE CONTACT))\n  OR (IF \"Daily caffeine intake\" = \"More than 12 bars (50 g) of chocolate\" ON MORE THAN ONE CONTACT))\n  OR (IF \"Daily caffeine intake\" = \"More than one can of soda or energy drink\" ON MORE THAN ONE CONTACT))\n  OR (IF \"Daily caffeine intake\" = \"None of the above daily caffeine intake\" ON MORE THAN ONE CONTACT))\n  OR (\"Persistant behaviours\" = \"High caffeine intake\")\n                                        \n                                        <i>(Should Conduct counselling on caffeine reduction)</i>\n                                        <br/>\n                                        \n                                        \n                                        \n                                        \n                                        \n                                    </td>\n                                </tr>\n                                \n                                <tr>\n                                    <td>\n                                        \n                                        Health-care providers should routinely offer advice and psychosocial interventions for tobacco cessation to all pregnant women who are either current tobacco users or recent tobacco quitters\n                                        \n                                        <br/>\n                                        \n                                        \n                                        <b>If:</b>\n                                        \n                                        <i>Applicability:</i>\n                                        \n                                        ((((\"Tobacco use\" = TRUE)\n  OR (IF \"Tobacco use\" = TRUE ON MORE THAN ONE CONTACT))\n  OR (\"Recently quit tobacco products\" = TRUE))\n  OR (IF \"Recently quit tobacco products\" = TRUE ON MORE THAN ONE CONTACT))\n  OR (\"Persistant behaviours\" = \"Current tobacco use or recently quit\")\n                                        \n                                        <i>(Should Conduct counselling on tobacco cessation)</i>\n                                        <br/>\n                                        \n                                        \n                                        \n                                        \n                                        \n                                    </td>\n                                </tr>\n                                \n                                <tr>\n                                    <td>\n                                        \n                                        Provide pregnant women, their partners and other household members with advice and information about the risks of second-hand smoke (SHS) exposure from all forms of smoked tobacco, as well as strategies to reduce SHS in the home\n                                        \n                                        <br/>\n                                        \n                                        \n                                        <b>If:</b>\n                                        \n                                        <i>Applicability:</i>\n                                        \n                                        ((\"Exposure to second\"hand smoke\" = TRUE)\n  OR (IF \"Exposure to second-hand smoke\" = TRUE ON MORE THAN ONE CONTACT))\n  OR (\"Persistent behaviours\" = \"Exposure to second-hand smoke in the home\")\n                                        \n                                        <i>(Should Conduct counselling on second-hand smoke)</i>\n                                        <br/>\n                                        \n                                        \n                                        \n                                        \n                                        \n                                    </td>\n                                </tr>\n                                \n                                <tr>\n                                    <td>\n                                        \n                                        Advise to use condoms to prevent Zika, HIV and other STIs; if necessary, reassure it is OK to continue to have sex during pregnancy\n                                        \n                                        <br/>\n                                        \n                                        \n                                        <b>If:</b>\n                                        \n                                        <i>Applicability:</i>\n                                        \n                                        ((((\"Contraceptive use of male condoms\" = FALSE)\n  OR (\"Contraceptive use of female condoms\" = FALSE))\n  OR (IF \"Contraceptive use of male condoms\" = FALSE ON MORE THAN ONE CONTACT))\n  OR (IF \"Contraceptive use of female condoms\" = FALSE ON MORE THAN ONE CONTACT))\n  OR (\"Persistent behaviours\" = \"No condom use during sex\")\n                                        \n                                        <i>(Should Conduct counselling on condom use)</i>\n                                        <br/>\n                                        \n                                        \n                                        \n                                        \n                                        \n                                    </td>\n                                </tr>\n                                \n                                <tr>\n                                    <td>\n                                        \n                                        Health-care providers should at the earliest opportunity advise pregnant women dependent on alcohol or drugs to cease their alcohol or drug use and offer, or refer them to, detoxification services under medical supervision, where necessary and applicable\n                                        \n                                        <br/>\n                                        \n                                        \n                                        <b>If:</b>\n                                        \n                                        <i>Applicability:</i>\n                                        \n                                        (((((\"Current alcohol and/or other substance use\" = \"Alcohol\")\n  OR (IF  \"Current alcohol and/or other substance use\" = \"Alcohol\" ON MORE THAN ONE CONTACT))\n  OR (\"Persistent behaviours\" = \"Alcohol use\"))\n  OR (\"Current alcohol and/or other substance use\" = \"Marijuana\" AND/OR \"Cocaine\" AND/OR \"Crack\" AND/OR \"Injectable drugs\" AND/OR \"Other substance use (specify)\"))\n  OR (IF \"Current alcohol and/or other substance use\" = \"Marijuana\" AND/OR \"Cocaine\" AND/OR \"Crack\" AND/OR \"Injectable drugs\" AND/OR \"Other substance use (specify)\" ON MORE THAN ONE CONTACT))\n  OR (\"Persistent behaviours\" = \"Substance use\")\n                                        \n                                        <i>(Should Conduct counselling on alcohol/substance use)</i>\n                                        <br/>\n                                        \n                                        \n                                        \n                                        \n                                        \n                                    </td>\n                                </tr>\n                                \n                            </table>\n                            \n                        </td>\n                    </tr>\n                    \n                </table>\n            </td>\n        </tr>\n        \n    </table>\n</div>\n</div>"^^rdf:XMLLiteral
  ] ; # 
  fhir:contained ( [
     a fhir:Library ;
     fhir:id [ fhir:v "effective-data-requirements" ] ;
     fhir:name [ fhir:v "EffectiveDataRequirements" ] ;
     fhir:status [ fhir:v "active" ] ;
     fhir:type [
       fhir:coding ( [
         fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/library-type"^^xsd:anyURI ] ;
         fhir:code [ fhir:v "module-definition" ]
       ] )
     ] ;
     fhir:relatedArtifact ( [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Library ContactData" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/Library/ANCContactDataElements"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/Library/ANCContactDataElements>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Library Cx" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/Library/ANCConcepts"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/Library/ANCConcepts>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Library FHIRHelpers" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/Library/FHIRHelpers|4.0.1"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/Library/FHIRHelpers|4.0.1>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Library WC" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/Library/WHOCommon"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/Library/WHOCommon>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Library PatientData" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/Library/ANCDataElements"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/Library/ANCDataElements>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Daily caffeine intake" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de139"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de139>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Daily caffeine intake - More than 2 cups of coffee Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de140"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de140>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Daily caffeine intake - More than 4 cups of tea Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de141"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de141>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Daily caffeine intake - More than 12 bars of chocolate Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de142"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de142>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Daily caffeine intake - More than one can of soda or energy drink Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de143"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de143>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Daily caffeine intake - None of the above daily caffeine intake Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de144"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de144>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Persistent behaviours" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b7-ded9"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b7-ded9>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Persistent behaviours - High caffeine intake Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b7-de10"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b7-de10>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Current alcohol and/or other substance use" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de146"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de146>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Current alcohol and/or other substance use - Alcohol Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de148"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de148>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Persistent behaviours - Alcohol use Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b7-de15"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b7-de15>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Current alcohol and/or other substance use - Marijuana Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de151"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de151>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Current alcohol and/or other substance use - Cocaine Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de149"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de149>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Current alcohol and/or other substance use - Injectable drugs Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de150"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de150>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Current alcohol and/or other substance use - Other (specify) Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de152"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de152>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Persistent behaviours - Substance use Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b7-de16"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b7-de16>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Tobacco use" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de153"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de153>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Recently quit tobacco products" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de154"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de154>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Persistent behaviours - Recently quit tobacco products Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b7-de12"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b7-de12>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Exposure to second-hand smoke" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de155"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de155>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Persistent behaviours - Exposure to second-hand smoke Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b7-de13"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b7-de13>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Contraceptive use of male condoms" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de160"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de160>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Contraceptive use of female condoms" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de161"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de161>
       ]
     ] [
       fhir:type [ fhir:v "depends-on" ] ;
       fhir:display [ fhir:v "Value set Persistent behaviours - No condom use during sex Choices" ] ;
       fhir:resource [
         fhir:v "http://smart.who.int/anc/ValueSet/anc-b7-de14"^^xsd:anyURI ;
         fhir:link <http://smart.who.int/anc/ValueSet/anc-b7-de14>
       ]
     ] ) ;
     fhir:parameter ( [
       fhir:name [ fhir:v "encounter" ] ;
       fhir:use [ fhir:v "in" ] ;
       fhir:min [ fhir:v 0 ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:type [ fhir:v "string" ]
     ] [
       fhir:name [ fhir:v "Should Conduct counselling on caffeine reduction" ] ;
       fhir:use [ fhir:v "out" ] ;
       fhir:min [ fhir:v 0 ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:type [ fhir:v "boolean" ]
     ] [
       fhir:name [ fhir:v "Should Conduct counselling on alcohol/substance use" ] ;
       fhir:use [ fhir:v "out" ] ;
       fhir:min [ fhir:v 0 ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:type [ fhir:v "boolean" ]
     ] [
       fhir:name [ fhir:v "Should Conduct counselling on tobacco cessation" ] ;
       fhir:use [ fhir:v "out" ] ;
       fhir:min [ fhir:v 0 ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:type [ fhir:v "boolean" ]
     ] [
       fhir:name [ fhir:v "Should Conduct counselling on second-hand smoke" ] ;
       fhir:use [ fhir:v "out" ] ;
       fhir:min [ fhir:v 0 ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:type [ fhir:v "boolean" ]
     ] [
       fhir:name [ fhir:v "Should Conduct counselling on condom use" ] ;
       fhir:use [ fhir:v "out" ] ;
       fhir:min [ fhir:v 0 ] ;
       fhir:max [ fhir:v "1" ] ;
       fhir:type [ fhir:v "boolean" ]
     ] ) ;
     fhir:dataRequirement ( [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] [ fhir:v "value" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de139"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de139>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] [ fhir:v "value" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de146"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de146>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] [ fhir:v "value" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de153"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de153>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] [ fhir:v "value" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de154"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de154>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] [ fhir:v "value" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de155"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de155>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] [ fhir:v "value" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de160"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de160>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] [ fhir:v "value" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b6-de161"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b6-de161>
         ]
       ] )
     ] [
       fhir:type [ fhir:v "Observation" ] ;
       fhir:profile ( [
         fhir:v "http://hl7.org/fhir/StructureDefinition/Observation"^^xsd:anyURI ;
         fhir:link <http://hl7.org/fhir/StructureDefinition/Observation>
       ] ) ;
       fhir:mustSupport ( [ fhir:v "code" ] [ fhir:v "status" ] [ fhir:v "encounter" ] [ fhir:v "encounter.reference" ] [ fhir:v "value" ] ) ;
       fhir:codeFilter ( [
         fhir:path [ fhir:v "code" ] ;
         fhir:valueSet [
           fhir:v "http://smart.who.int/anc/ValueSet/anc-b7-ded9"^^xsd:anyURI ;
           fhir:link <http://smart.who.int/anc/ValueSet/anc-b7-ded9>
         ]
       ] )
     ] )
  ] ) ; # 
  fhir:extension ( [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Daily caffeine intake"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE139 Daily caffeine intake\n  @activity: ANC.B6 Profile\n  @description: Assesses whether the woman consumes more than 300 mg of caffeine per day\n*/\ndefine \"Daily caffeine intake\":\n  [Observation: Cx.\"Daily caffeine intake\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n    return O.value as FHIR.CodeableConcept"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 0
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Daily caffeine intake"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE139 Daily caffeine intake\n  @activity: ANC.B6. Collect woman's profile and history\n  @description: Assesses whether the woman consumes more than 300 mg of caffeine per day\n*/\ndefine \"Daily caffeine intake\":\n  [Observation: Cx.\"Daily caffeine intake\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 1
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Persistent behaviours"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B7.DED9 Persistent behaviours\n  @activity: ANC.B7 Symptoms & Follow-up\n  @description: Which of the following behaviours persist? Select which of the following behaviours persist after being reported during last contact\n*/\ndefine \"Persistent behaviours\":\n  [Observation: Cx.\"Persistent behaviours\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n    return O.value as FHIR.CodeableConcept"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 2
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDT15"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Should Conduct counselling on caffeine reduction"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n((((((((((\"Daily caffeine intake\" = \"More than 2 cups of coffee (brewed, filter, instant or espresso)\")\n  OR (\"Daily caffeine intake\" = \"More than 4 cups of tea\"))\n  OR (\"Daily caffeine intake\" = \"More than 12 bars (50g) of chocolate\"))\n  OR (\"Daily caffeine intake\" = \"More than one can of soda or energy drink\"))\n  OR (\"Daily caffeine intake\" = \"None of the above daily caffeine intake\"))\n  OR (IF \"Daily caffeine intake\" = \"More than 2 cups of coffee (brewed, filter, instant, or espresso)\" ON MORE THAN ONE CONTACT))\n  OR (IF  \"Daily caffeine intake\" = \"More than 4 cups of tea\" ON MORE THAN ONE CONTACT))\n  OR (IF \"Daily caffeine intake\" = \"More than 12 bars (50 g) of chocolate\" ON MORE THAN ONE CONTACT))\n  OR (IF \"Daily caffeine intake\" = \"More than one can of soda or energy drink\" ON MORE THAN ONE CONTACT))\n  OR (IF \"Daily caffeine intake\" = \"None of the above daily caffeine intake\" ON MORE THAN ONE CONTACT))\n  OR (\"Persistant behaviours\" = \"High caffeine intake\")\n*/\ndefine \"Should Conduct counselling on caffeine reduction\":\n  ContactData.\"Daily caffeine intake\" O in Cx.\"Daily caffeine intake - More than 2 cups of coffee Choices\"\n    or ContactData.\"Daily caffeine intake\" in Cx.\"Daily caffeine intake - More than 4 cups of tea Choices\"\n    or ContactData.\"Daily caffeine intake\" in Cx.\"Daily caffeine intake - More than 12 bars of chocolate Choices\"\n    or ContactData.\"Daily caffeine intake\" in Cx.\"Daily caffeine intake - More than one can of soda or energy drink Choices\"\n    or ContactData.\"Daily caffeine intake\" in Cx.\"Daily caffeine intake - None of the above daily caffeine intake Choices\"\n    or (Count(PatientData.\"Daily caffeine intake\" O where O.value in Cx.\"Daily caffeine intake - More than 2 cups of coffee Choices\") >= 2)\n    or (Count(PatientData.\"Daily caffeine intake\" O where O.value in Cx.\"Daily caffeine intake - More than 4 cups of tea Choices\") >= 2)\n    or (Count(PatientData.\"Daily caffeine intake\" O where O.value in Cx.\"Daily caffeine intake - More than 12 bars of chocolate Choices\") >= 2)\n    or (Count(PatientData.\"Daily caffeine intake\" O where O.value in Cx.\"Daily caffeine intake - More than one can of soda or energy drink Choices\") >= 2)\n    or (Count(PatientData.\"Daily caffeine intake\" O where O.value in Cx.\"Daily caffeine intake - None of the above daily caffeine intake Choices\") >= 2)\n    or ContactData.\"Persistent behaviours\" in Cx.\"Persistent behaviours - High caffeine intake Choices\""
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 3
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Current alcohol and/or other substance use"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE146 Current alcohol and/or other substance use\n  @activity: ANC.B6 Profile\n  @description: Whether or not the woman currently consumes any alcohol or substances\n*/\ndefine \"Current alcohol and/or other substance use\":\n  [Observation: Cx.\"Current alcohol and/or other substance use\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n    return O.value as FHIR.CodeableConcept"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 4
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Current alcohol and/or other substance use"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE146 Current alcohol and/or other substance use\n  @activity: ANC.B6. Collect woman's profile and history\n  @description: Whether or not the woman currently consumes any alcohol or substances\n*/\ndefine \"Current alcohol and/or other substance use\":\n  [Observation: Cx.\"Current alcohol and/or other substance use\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 5
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDT15"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Should Conduct counselling on alcohol/substance use"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n(((((\"Current alcohol and/or other substance use\" = \"Alcohol\")\n  OR (IF  \"Current alcohol and/or other substance use\" = \"Alcohol\" ON MORE THAN ONE CONTACT))\n  OR (\"Persistent behaviours\" = \"Alcohol use\"))\n  OR (\"Current alcohol and/or other substance use\" = \"Marijuana\" AND/OR \"Cocaine\" AND/OR \"Crack\" AND/OR \"Injectable drugs\" AND/OR \"Other substance use (specify)\"))\n  OR (IF \"Current alcohol and/or other substance use\" = \"Marijuana\" AND/OR \"Cocaine\" AND/OR \"Crack\" AND/OR \"Injectable drugs\" AND/OR \"Other substance use (specify)\" ON MORE THAN ONE CONTACT))\n  OR (\"Persistent behaviours\" = \"Substance use\")\n*/\ndefine \"Should Conduct counselling on alcohol/substance use\":\n  ContactData.\"Current alcohol and/or other substance use\" in Cx.\"Current alcohol and/or other substance use - Alcohol Choices\"\n    or (\n      Count(\n        PatientData.\"Current alcohol and/or other substance use\" O\n          where O.value as FHIR.CodeableConcept in Cx.\"Current alcohol and/or other substance use - Alcohol Choices\"\n      ) >= 2\n    )\n    or ContactData.\"Persistent behaviours\" in Cx.\"Persistent behaviours - Alcohol use Choices\"\n    or ContactData.\"Current alcohol and/or other substance use\" in Cx.\"Current alcohol and/or other substance use - Marijuana Choices\"\n    or ContactData.\"Current alcohol and/or other substance use\" in Cx.\"Current alcohol and/or other substance use - Cocaine Choices\"\n    or ContactData.\"Current alcohol and/or other substance use\" in Cx.\"Current alcohol and/or other substance use - Injectable drugs Choices\"\n    or ContactData.\"Current alcohol and/or other substance use\" in Cx.\"Current alcohol and/or other substance use - Other (specify) Choices\"\n    or (\n      Count(\n        PatientData.\"Current alcohol and/or other substance use\" O\n          where O.value as FHIR.CodeableConcept in Cx.\"Current alcohol and/or other substance use - Marijuana Choices\"\n            or O.value as FHIR.CodeableConcept in Cx.\"Current alcohol and/or other substance use - Cocaine Choices\"\n            or O.value as FHIR.CodeableConcept in Cx.\"Current alcohol and/or other substance use - Injectable drugs Choices\"\n            or O.value as FHIR.CodeableConcept in Cx.\"Current alcohol and/or other substance use - Other (specify) Choices\"\n      ) >= 2\n    )\n    or ContactData.\"Persistent behaviours\" in Cx.\"Persistent behaviours - Substance use Choices\""
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 6
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Tobacco use"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE153 Tobacco use\n  @activity: ANC.B6 Profile\n  @description: Whether the woman uses tobacco products\n*/\ndefine \"Tobacco use\":\n  WC.Only(\n  [Observation: Cx.\"Tobacco use\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.boolean"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 7
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Tobacco use"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE153 Tobacco use\n  @activity: ANC.B6. Collect woman's profile and history\n  @description: Whether the woman uses tobacco products\n*/\ndefine \"Tobacco use\":\n  [Observation: Cx.\"Tobacco use\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 8
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Recently quit tobacco products"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE154 Recently quit tobacco products\n  @activity: ANC.B6 Profile\n  @description: Whether the woman has recently quit using any tobacco products\n*/\ndefine \"Recently quit tobacco products\":\n  WC.Only(\n  [Observation: Cx.\"Recently quit tobacco products\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.boolean"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 9
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Recently quit tobacco products"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE154 Recently quit tobacco products\n  @activity: ANC.B6. Collect woman's profile and history\n  @description: Whether the woman has recently quit using any tobacco products\n*/\ndefine \"Recently quit tobacco products\":\n  [Observation: Cx.\"Recently quit tobacco products\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 10
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDT15"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Should Conduct counselling on tobacco cessation"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n((((\"Tobacco use\" = TRUE)\n  OR (IF \"Tobacco use\" = TRUE ON MORE THAN ONE CONTACT))\n  OR (\"Recently quit tobacco products\" = TRUE))\n  OR (IF \"Recently quit tobacco products\" = TRUE ON MORE THAN ONE CONTACT))\n  OR (\"Persistant behaviours\" = \"Current tobacco use or recently quit\")\n*/\ndefine \"Should Conduct counselling on tobacco cessation\":\n  ContactData.\"Tobacco use\" is true\n     or (Count(PatientData.\"Tobacco use\" O where O.value = true) >= 2)\n     or ContactData.\"Recently quit tobacco products\" is true\n     or (Count(PatientData.\"Recently quit tobacco products\" O where O.value = true) >= 2)\n     or ContactData.\"Persistent behaviours\" in Cx.\"Persistent behaviours - Recently quit tobacco products Choices\""
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 11
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Exposure to second-hand smoke"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE155 Exposure to second-hand smoke\n  @activity: ANC.B6 Profile\n  @description: Anyone in the household smokes tobacco products – whether the woman is exposed to second-hand smoke from anyone in her household\n*/\ndefine \"Exposure to second-hand smoke\":\n  WC.Only(\n  [Observation: Cx.\"Exposure to second-hand smoke\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.boolean"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 12
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Exposure to second-hand smoke"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE155 Exposure to second-hand smoke\n  @activity: ANC.B6. Collect woman's profile and history\n  @description: Anyone in the household smokes tobacco products – whether the woman is exposed to second-hand smoke from anyone in her household\n*/\ndefine \"Exposure to second-hand smoke\":\n  [Observation: Cx.\"Exposure to second-hand smoke\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 13
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDT15"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Should Conduct counselling on second-hand smoke"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n((\"Exposure to second\"hand smoke\" = TRUE)\n  OR (IF \"Exposure to second-hand smoke\" = TRUE ON MORE THAN ONE CONTACT))\n  OR (\"Persistent behaviours\" = \"Exposure to second-hand smoke in the home\")\n*/\ndefine \"Should Conduct counselling on second-hand smoke\":\n  ContactData.\"Exposure to second-hand smoke\" is true\n    or (Count(PatientData.\"Exposure to second-hand smoke\" O where O.value = true) >= 2)\n    or ContactData.\"Persistent behaviours\" in Cx.\"Persistent behaviours - Exposure to second-hand smoke Choices\""
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 14
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Contraceptive use of male condoms"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE160 Contraceptive use of male condoms\n  @activity: ANC.B6 Profile\n  @description: Whether or not the woman (and her partner) use male condoms during sex\n*/\ndefine \"Contraceptive use of male condoms\":\n  WC.Only(\n  [Observation: Cx.\"Contraceptive use of male condoms\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.boolean"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 15
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Contraceptive use of male condoms"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE160 Contraceptive use of male condoms\n  @activity: ANC.B6. Collect woman's profile and history\n  @description: Whether or not the woman (and her partner) use male condoms during sex\n*/\ndefine \"Contraceptive use of male condoms\":\n  [Observation: Cx.\"Contraceptive use of male condoms\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n    return O.value as FHIR.boolean"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 16
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCContactDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Contraceptive use of female condoms"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE161 Contraceptive use of female condoms\n  @activity: ANC.B6 Profile\n  @description: Whether or not the woman (and her partner) use female condoms during sex\n*/\ndefine \"Contraceptive use of female condoms\":\n  WC.Only(\n  [Observation: Cx.\"Contraceptive use of female condoms\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n      and Last(Split(O.encounter.reference, '/')) = Last(Split(encounter, '/'))\n  ).value as FHIR.boolean"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 17
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDataElements"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Contraceptive use of female condoms"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n  @dataElement: ANC.B6.DE161 Contraceptive use of female condoms\n  @activity: ANC.B6. Collect woman's profile and history\n  @description: Whether or not the woman (and her partner) use female condoms during sex\n*/\ndefine \"Contraceptive use of female condoms\":\n  [Observation: Cx.\"Contraceptive use of female condoms\"] O\n    where O.status in { 'final', 'amended', 'corrected' }\n      and Coalesce(WC.ModifierExtension(O, 'who-notDone').value, false) is false\n    return O.value as FHIR.boolean"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 18
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ANCDT15"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Should Conduct counselling on condom use"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n((((\"Contraceptive use of male condoms\" = FALSE)\n  OR (\"Contraceptive use of female condoms\" = FALSE))\n  OR (IF \"Contraceptive use of male condoms\" = FALSE ON MORE THAN ONE CONTACT))\n  OR (IF \"Contraceptive use of female condoms\" = FALSE ON MORE THAN ONE CONTACT))\n  OR (\"Persistent behaviours\" = \"No condom use during sex\")\n*/\ndefine \"Should Conduct counselling on condom use\":\n  ContactData.\"Contraceptive use of male condoms\" is false\n     or (Count(PatientData.\"Contraceptive use of male condoms\" O where O.value = false) >= 2)\n     or ContactData.\"Contraceptive use of female condoms\" is false\n     or (Count(PatientData.\"Contraceptive use of female condoms\" O where O.value = false) >= 2)\n     or ContactData.\"Persistent behaviours\" in Cx.\"Persistent behaviours - No condom use during sex Choices\""
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 19
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToString"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToString(value ObservationStatus): value.value"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 20
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToBoolean"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToBoolean(value boolean): value.value"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 21
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "WHOCommon"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ModifierExtension"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n@description: Returns the single WHO core modifier extension (if present) on the given resource with the specified id.\n@comment: This function uses singleton from to ensure that a run-time exception is thrown if there\nis more than one extension on the given resource with the specified url.\n*/\ndefine function ModifierExtension(domainResource DomainResource, id String):\n  singleton from ModifierExtensions(domainResource, id)"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 22
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "WHOCommon"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ModifierExtensions"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "/*\n@description: Returns any WHO core modifier extensions defined on the given resource with the specified id.\n@comment: NOTE: Extensions are not the preferred approach, but are used as a way to access\ncontent that is defined by extensions but not yet surfaced in the\nCQL model info.\n*/\ndefine function ModifierExtensions(domainResource DomainResource, id String):\n  domainResource.modifierExtension E\n	  where E.url = ('http://fhir.org/guides/who/core/StructureDefinition/' + id)\n		return E"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 23
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToString"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToString(value uri): value.value"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 24
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToString"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToString(value string): value.value"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 25
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToConcept"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 26
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "FHIRHelpers"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "ToCode"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 27
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:extension ( [
       fhir:url [ fhir:v "libraryName"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "WHOCommon"
       ]
     ] [
       fhir:url [ fhir:v "name"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "Only"
       ]
     ] [
       fhir:url [ fhir:v "statement"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:string ;
         fhir:v "define function Only(observations List<Observation>):\n  singleton from observations"
       ]
     ] [
       fhir:url [ fhir:v "displaySequence"^^xsd:anyURI ] ;
       fhir:value [
         a fhir:integer ;
         fhir:v 28
       ]
     ] ) ;
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition"^^xsd:anyURI ]
  ] [
     fhir:id [ fhir:v "effective-data-requirements" ] ;
     fhir:url [ fhir:v "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-effectiveDataRequirements"^^xsd:anyURI ] ;
     fhir:value [
       a fhir:canonical ;
       fhir:v "#effective-data-requirements"^^xsd:anyURI
     ]
  ] [
     fhir:url [ fhir:v "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem"^^xsd:anyURI ] ;
     fhir:value [
       a fhir:Reference ;
       fhir:link <http://smart.who.int/anc/Device/cqf-tooling> ;
       fhir:reference [ fhir:v "Device/cqf-tooling" ]
     ]
  ] ) ; # 
  fhir:url [ fhir:v "http://smart.who.int/anc/PlanDefinition/ANCDT15"^^xsd:anyURI] ; # 
  fhir:identifier ( [
     fhir:use [ fhir:v "official" ] ;
     fhir:value [ fhir:v "ANC.DT.15" ]
  ] ) ; # 
  fhir:version [ fhir:v "0.3.0"] ; # 
  fhir:name [ fhir:v "ANCDT15"] ; # 
  fhir:title [ fhir:v "ANC.DT.15 Behaviour counselling required"] ; # 
  fhir:type [
     fhir:coding ( [
       fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/plan-definition-type"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "eca-rule" ]
     ] )
  ] ; # 
  fhir:status [ fhir:v "active"] ; # 
  fhir:experimental [ fhir:v false] ; # 
  fhir:date [ fhir:v "2025-06-24T13:58:48-06:00"^^xsd:dateTime] ; # 
  fhir:publisher [ fhir:v "World Health Organization (WHO)"] ; # 
  fhir:contact ( [
     fhir:telecom ( [
       fhir:system [ fhir:v "url" ] ;
       fhir:value [ fhir:v "https://www.who.int" ]
     ] )
  ] ) ; # 
  fhir:description [ fhir:v "Depending on the woman's behaviours reported during the first contact and the woman's reported persistent behaviours, additional counselling may or may not be required "] ; # 
  fhir:useContext ( [
     fhir:code [
       fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/usage-context-type"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "task" ] ;
       fhir:display [ fhir:v "Workflow Task" ]
     ] ;
     fhir:value [
       a fhir:CodeableConcept ;
       fhir:coding ( [
         fhir:system [ fhir:v "http://smart.who.int/anc/CodeSystem/activity-codes"^^xsd:anyURI ] ;
         fhir:code [ fhir:v "ANC.B10." ] ;
         fhir:display [ fhir:v "Counselling, in-facility management & treatment " ]
       ] )
     ]
  ] ) ; # 
  fhir:jurisdiction ( [
     fhir:coding ( [
       fhir:system [ fhir:v "http://unstats.un.org/unsd/methods/m49/m49.htm"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "001" ]
     ] )
  ] ) ; # 
  fhir:library ( [
     fhir:v "http://smart.who.int/anc/Library/ANCDT15"^^xsd:anyURI ;
     fhir:link <http://smart.who.int/anc/Library/ANCDT15>
  ] ) ; # 
  fhir:action ( [
     fhir:title [ fhir:v "ANC.DT.15 Behaviour counselling required" ] ;
     fhir:trigger ( [
       fhir:type [ fhir:v "named-event" ] ;
       fhir:name [ fhir:v "ANC.B10. Counselling, in-facility management & treatment " ]
     ] ) ;
     fhir:action ( [
       fhir:id [ fhir:v "1" ] ;
       fhir:title [ fhir:v "Conduct counselling on caffeine reduction" ] ;
       fhir:description [ fhir:v "Conduct counselling on caffeine reduction" ] ;
       fhir:textEquivalent [ fhir:v "Lowering daily caffeine intake during pregnancy is recommended to reduce the risk of pregnancy loss and low-birth-weight neonates.\n\nThis includes any product, beverage or food containing caffeine (e.g. brewed coffee, tea, cola-type soft drinks, caffeinated energy drinks, chocolate, caffeine tablets); caffeine-containing teas (black tea and green tea) and soft drinks (colas and iced tea) usually contain less than 50 mg per 250 ml serving" ] ;
       fhir:documentation ( [
         fhir:type [ fhir:v "citation" ] ;
         fhir:label [ fhir:v "WHO ANC recommendations (2016): A.10. Restricting caffeine intake (3)" ]
       ] ) ;
       fhir:condition ( [
         fhir:kind [ fhir:v "applicability" ] ;
         fhir:expression [
           fhir:description [ fhir:v "((((((((((\"Daily caffeine intake\" = \"More than 2 cups of coffee (brewed, filter, instant or espresso)\")\n  OR (\"Daily caffeine intake\" = \"More than 4 cups of tea\"))\n  OR (\"Daily caffeine intake\" = \"More than 12 bars (50g) of chocolate\"))\n  OR (\"Daily caffeine intake\" = \"More than one can of soda or energy drink\"))\n  OR (\"Daily caffeine intake\" = \"None of the above daily caffeine intake\"))\n  OR (IF \"Daily caffeine intake\" = \"More than 2 cups of coffee (brewed, filter, instant, or espresso)\" ON MORE THAN ONE CONTACT))\n  OR (IF  \"Daily caffeine intake\" = \"More than 4 cups of tea\" ON MORE THAN ONE CONTACT))\n  OR (IF \"Daily caffeine intake\" = \"More than 12 bars (50 g) of chocolate\" ON MORE THAN ONE CONTACT))\n  OR (IF \"Daily caffeine intake\" = \"More than one can of soda or energy drink\" ON MORE THAN ONE CONTACT))\n  OR (IF \"Daily caffeine intake\" = \"None of the above daily caffeine intake\" ON MORE THAN ONE CONTACT))\n  OR (\"Persistant behaviours\" = \"High caffeine intake\")" ] ;
           fhir:language [ fhir:v "text/cql-identifier" ] ;
           fhir:expression [ fhir:v "Should Conduct counselling on caffeine reduction" ]
         ]
       ] )
     ] [
       fhir:id [ fhir:v "2" ] ;
       fhir:title [ fhir:v "Conduct counselling on tobacco cessation" ] ;
       fhir:description [ fhir:v "Conduct counselling on tobacco cessation" ] ;
       fhir:textEquivalent [ fhir:v "Health-care providers should routinely offer advice and psychosocial interventions for tobacco cessation to all pregnant women who are either current tobacco users or recent tobacco quitters" ] ;
       fhir:documentation ( [
         fhir:type [ fhir:v "citation" ] ;
         fhir:label [ fhir:v "WHO ANC recommendations (2016): B.1.5. Tobacco use (3)" ]
       ] ) ;
       fhir:condition ( [
         fhir:kind [ fhir:v "applicability" ] ;
         fhir:expression [
           fhir:description [ fhir:v "((((\"Tobacco use\" = TRUE)\n  OR (IF \"Tobacco use\" = TRUE ON MORE THAN ONE CONTACT))\n  OR (\"Recently quit tobacco products\" = TRUE))\n  OR (IF \"Recently quit tobacco products\" = TRUE ON MORE THAN ONE CONTACT))\n  OR (\"Persistant behaviours\" = \"Current tobacco use or recently quit\")" ] ;
           fhir:language [ fhir:v "text/cql-identifier" ] ;
           fhir:expression [ fhir:v "Should Conduct counselling on tobacco cessation" ]
         ]
       ] )
     ] [
       fhir:id [ fhir:v "3" ] ;
       fhir:title [ fhir:v "Conduct counselling on second-hand smoke" ] ;
       fhir:description [ fhir:v "Conduct counselling on second-hand smoke" ] ;
       fhir:textEquivalent [ fhir:v "Provide pregnant women, their partners and other household members with advice and information about the risks of second-hand smoke (SHS) exposure from all forms of smoked tobacco, as well as strategies to reduce SHS in the home" ] ;
       fhir:documentation ( [
         fhir:type [ fhir:v "citation" ] ;
         fhir:label [ fhir:v "WHO ANC recommendations (2016): B.1.5. Tobacco use (3)" ]
       ] ) ;
       fhir:condition ( [
         fhir:kind [ fhir:v "applicability" ] ;
         fhir:expression [
           fhir:description [ fhir:v "((\"Exposure to second\"hand smoke\" = TRUE)\n  OR (IF \"Exposure to second-hand smoke\" = TRUE ON MORE THAN ONE CONTACT))\n  OR (\"Persistent behaviours\" = \"Exposure to second-hand smoke in the home\")" ] ;
           fhir:language [ fhir:v "text/cql-identifier" ] ;
           fhir:expression [ fhir:v "Should Conduct counselling on second-hand smoke" ]
         ]
       ] )
     ] [
       fhir:id [ fhir:v "4" ] ;
       fhir:title [ fhir:v "Conduct counselling on condom use" ] ;
       fhir:description [ fhir:v "Conduct counselling on condom use" ] ;
       fhir:textEquivalent [ fhir:v "Advise to use condoms to prevent Zika, HIV and other STIs; if necessary, reassure it is OK to continue to have sex during pregnancy" ] ;
       fhir:documentation ( [
         fhir:type [ fhir:v "citation" ] ;
         fhir:label [ fhir:v "Pregnancy management with Zika (2017) (19)" ]
       ] ) ;
       fhir:condition ( [
         fhir:kind [ fhir:v "applicability" ] ;
         fhir:expression [
           fhir:description [ fhir:v "((((\"Contraceptive use of male condoms\" = FALSE)\n  OR (\"Contraceptive use of female condoms\" = FALSE))\n  OR (IF \"Contraceptive use of male condoms\" = FALSE ON MORE THAN ONE CONTACT))\n  OR (IF \"Contraceptive use of female condoms\" = FALSE ON MORE THAN ONE CONTACT))\n  OR (\"Persistent behaviours\" = \"No condom use during sex\")" ] ;
           fhir:language [ fhir:v "text/cql-identifier" ] ;
           fhir:expression [ fhir:v "Should Conduct counselling on condom use" ]
         ]
       ] )
     ] [
       fhir:id [ fhir:v "5" ] ;
       fhir:title [ fhir:v "Conduct counselling on alcohol/substance use" ] ;
       fhir:description [ fhir:v "Conduct counselling on alcohol/substance use" ] ;
       fhir:textEquivalent [ fhir:v "Health-care providers should at the earliest opportunity advise pregnant women dependent on alcohol or drugs to cease their alcohol or drug use and offer, or refer them to, detoxification services under medical supervision, where necessary and applicable" ] ;
       fhir:documentation ( [
         fhir:type [ fhir:v "citation" ] ;
         fhir:label [ fhir:v "WHO ANC recommendations (2016): B.1.6. Substance use (3)" ]
       ] ) ;
       fhir:condition ( [
         fhir:kind [ fhir:v "applicability" ] ;
         fhir:expression [
           fhir:description [ fhir:v "(((((\"Current alcohol and/or other substance use\" = \"Alcohol\")\n  OR (IF  \"Current alcohol and/or other substance use\" = \"Alcohol\" ON MORE THAN ONE CONTACT))\n  OR (\"Persistent behaviours\" = \"Alcohol use\"))\n  OR (\"Current alcohol and/or other substance use\" = \"Marijuana\" AND/OR \"Cocaine\" AND/OR \"Crack\" AND/OR \"Injectable drugs\" AND/OR \"Other substance use (specify)\"))\n  OR (IF \"Current alcohol and/or other substance use\" = \"Marijuana\" AND/OR \"Cocaine\" AND/OR \"Crack\" AND/OR \"Injectable drugs\" AND/OR \"Other substance use (specify)\" ON MORE THAN ONE CONTACT))\n  OR (\"Persistent behaviours\" = \"Substance use\")" ] ;
           fhir:language [ fhir:v "text/cql-identifier" ] ;
           fhir:expression [ fhir:v "Should Conduct counselling on alcohol/substance use" ]
         ]
       ] )
     ] )
  ] ) . # 

# -------------------------------------------------------------------------------------

